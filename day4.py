#-------------------------------------------------------------
# Advent of Code 2025
# This one is straightforward. No major optimizations needed.
#-------------------------------------------------------------
import parse

testData = """\
..@@.@@@@.
@@@.@.@.@@
@@@@@.@.@@
@.@@@@..@.
@@.@@@@.@@
.@@@@@@@.@
.@.@.@.@@@
@.@@@.@@@@
.@@@@@@@@.
@.@.@@@.@.\
""".split('\n')

data = """\
@@..@.@@.@@.@@@@@.@@@.@@..@.@@@@@@@.@..@.@@@@@.@.@.@@@@@.@@.@@...@@@@.@@..@@...@.@.@@@@@@@@.@.@@@@@@.@@@@@..@@.@@@.@.@@@..@.@@@@.@@@@@..@@..
..@.@.@@@@@@@.@.@@@@@@.@@..@@.@@.@..@..@@@@..@.@.@@@@..@..@@.@..@@.@@.@@..@@@@.@.@@@@@@.@.@@@@@@@@..@@@@@@@@@@@@.@.@@.@@@@@@...@.@@.@@..@@.@
...@@@.@.@@@@@@....@..@.@@@@@@....@.@.@@.@@@@@@@.@@@.@@@@@@.....@@..@.@@..@..@@@..@@.@.@.@@..@@@@@@@@.@@.@.@.@....@.@..@@.@..@@@@.@@.....@@@
@@@@@@@@@@.@@@@@.@@@.@@.@@@.@.@@@@.@.@@.@@@..@.@..@@..@@.@@.@@@@..@.@@@@.@@@@@.@.@@@@.@.@@@@@@.@.@@@@.@@@@@@@@..@@.@@@.@@@..@...@@@@@@@@@@@@
.@@.@@@@@@@@@@@.@@@@.@..@.@@@@@.@..@@...@@@@@@@@.@@@@..@@@@@@..@...@.@.@.@@@@@.@@@.@@@.@@@.@@@@@@..@@.@.@@.@....@.@.@@@@@.@@@@..@@@@..@@..@@
.@@@@.@@@@@@@....@..@.@@.@@@@@@@..@@@@@@@@@@@@..@@@@@..@@.@..@..@@@.@.@@@@@@@@@.@@.@....@..@@@@@.@@@@@@@@.@@@@@@.@.@.@@@@@@@@.@.@.@@.@@@@..@
@@.@..@@@@@@@@@@...@...@@..@@@@@@.@@@@.@..@@..@...@@@.@@@.@@@.@@.@@@@@@@@@@@@@.@@@@@.@@@@@.@@@@@@@.@@.@.@@...@@.@@@.@.@@.@@@@.@@.@..@@@.@@.@
@.@@..@..@.@@@@@@@@@@.@@@...@@@@@@.....@@@@@@@....@.@@....@@.@@..@....@@.@@@@.@@.@.@...@..@..@@.@..@@...@.@@@@..@@@.@.@@@@@@@..@@@@.@@@@...@
.....@..@..@@@.@@..@@.@@@.@.@@.@@@@.@@@..@.@..@@@.@@@@....@@@.@@@@@@@@@.@.@.@@@.@@@...@@@@.@..@..@.@..@@@@.@@@..@.@@@@.@@...@@@.@@.@...@....
.@@@...@@.@..@@@@@@@.@@......@.@@@@@@@.@@@..@..@@.@@..@@@@@.@@@@@@.@@.@..@@@@@@@@..@@....@.@.....@@@@@@@.@..@@@@@.@@@..@@@@@@@.@@@@.@@@.@@.@
@@@@@...@@@@@.@.@@...@@@@@.@@@@@.@@@.@@@.@@@.@@@@.@@.@@.@.@@.@.@..@@...@@@@@@.@.@@@@@..@@@.@@@.@..@@@@.@.@@..@.@.@@@@@@@@.@@.@@@@.@@@@@..@@@
@..@..@@@@...@.@@@.@@@@..@.@@@@@@@@@@@@.@@.@@..@@.@@@@..@@@@@@@.@@@.@@@.@@@@.@.@.@@@@@@..@.@.@@@@@@..@@@.@..@@@@.@@@@.@@..@..@.@.@@@@@...@@@
@...@@@@.@@@@@@.@@@@@@@@@@@..@@.@@...@@.@@.@.@@@...@@@.@@.@@.@@..@@@@@@.@@..@.@@@@@@.@@@@.@.@...@@.@@@.@.@@@@@@.@@@@.@.@@.@.@..@@.@..@.@.@@@
.@@@@@...@.@.@@@@.@@@.@@.@@.@.@@@@.@@@@.@@@.@@@.@@@@@@..@@..@@.@@..@@@@@@@@@@@..@@@@.@@@@..@@@.@@@.@@.@@.@@@@.@@@.@.....@@@@@@@@@@@@@@@.@.@@
@.@.@.@..@@..@.@@@.....@@..@@.@@@..@@@@@@..@.@@.@@.@@.@@@@@.@@@.@@@.@@@.@@@@@@.@.@.@@@@.@.@@...@..@@...@@.@@@@@@..@@.@@@@.@@.@.@@@..@@@.@@@@
..@@.@@@@@@@@..@@.@@@@@@@@@.@.@@.@@.@..@@@@.@.@@.@..@@..@@@.@...@.@.@.@@.@@.@.@.@.@@@..@@@.@.....@@.@@@@@@@@@@@@.@.@..@....@..@@.@@@@.@.@...
.@.....@@@.@.@@@@@@@..@@.@@.@@.@@@@.@@@@@@.@.@@@@@.@@@@@.@@@.@@@@@@@.@@@@.@@@@...@@.@@@@.@@.@@.@@..@@..@@..@.@@@@@@@@..@@@@@@@@@@.@@@@.@..@@
@@@.@@.@.@@..@@@@@@@.@@.@@@.@.@@@@.@@.@......@.@@@.@.@@..@@@...@...@@.@@@@..@@@.@.@@..@.@@.@.@.@@@@@@..@@.@@.@@@@.@@@.@@.@....@@@..@.@@..@@@
@@.@...@.@@@.@.@..@@.@@.@@..@...@@@@.@.@@@@..@....@@.@.@@@..@@.@@..@@@@@..@@@.@@.@@.@..@@@@@..@@.@.@..@@.@.@.@.@@@@..@@..@@@@@@@@.@@.@@@.@@@
@@@@..@@@@..@@@@@.@@.@@@@.@.@@@@@@.@..@.@@@..@@@@@@.@@.@..@@..@@@@@...@@.@@@@@@..@@@@..@.@..@@@@@.@....@.@.@@@.@.@@@@@.@@.@.@@@.@.@@..@.@@@@
.@@@@.@.@...@@@@@.@@...@...@@..@..@.@.@@.@@.@.@.@@@..@@..@.@@.@..@..@@@@@.@.@..@@@.@@..@@.@.@@@.@..@@@@@...@@.@.@@@@.@@@@@@@@@@@@@@...@.@@..
@@@@@@..@.@@...@@.@@..@@@@..@@@@.@@@.@@.@@..@@@...@@@@.@@...@@@@..@@.@..@...@..@@@.@@@@.@@@@@@.@@@.@.@@@@@..@...@...@..@@@@.@.@@@@@@@@@@@..@
@@@@@@..@@@@@...@@@@..@@..@...@@.@@..@@@@@.@@@@@@.@.@@.@@.@@@@@@@@@.@@@@.@@@@@@@@.@..@.......@.@@@.@.....@..@@@@@@..@@@.@@@.@@..@..@@@.@@@@@
@@@@@.@.@@..@.@@@..@@@@....@.@.@@.@@@.@@@@@@.@.@.@@@..@@...@@@@@@..@.@.@@@.@.@.@@@@@.@@.@@@...@@@.@@.@@@@@..@.@@@@@.@.@.@.@@@@.@@@@@.@@@@@@@
.@.@@@.@@@@.@@.@@..@.@@...@.@@.@@.@.@@@@@@@.@@@@@@@@@..@@.@@..@@@@@@.......@@.@@@.@@.@@.@@@..@@@@@.@.@..@@@@@@@@@@@@.@..@@.@.@@@@@.@.@....@@
@@.@@.@@.@..@..@.@@@@@@@@@.@@@.@...@@.@@@@@@.@@@@@@@...@....@.@.@@@@@@@..@@@@@@@.@@@@.@@@@@@@@.@@....@.@@@..@.@.@@.@...@.@@@..@@......@@@@@@
@@@@.@@@@.@.@@@.@@.@@@@.@@@.@...@.@.@.@@@@.@@@@@@...@.@.@@.@..@@@@@.@@@@@@.@.@.@.@@@@@@@...@....@.@@.@.@.@....@.@.@@.@@@.@.@@.@@@@@.@@@@..@@
@..@.@.......@@@@@..@@.@@.@@@@.@..@@.@.@.@.@@@.@..@.@..@@.@@@@@@@...@@@@..@@@@....@@@..@@..@@@.@.@@..@@@..@@..@@@@@@@..@@.@.@@..@@.@@.@.@@@@
@.@@@@@@@@.@..@@@.@@@@...@@@.@@.@@@@@@@@@..@@.@.@...@@@@@.@.@.@..@..@..@@@.@..@@..@@@@@.@.@@@..@@.@@@@@.@.@.@@....@@@....@.@...@@@@.@@@@.@@.
@..@..@.@@@@..@@@.@.@@@@@@@@.@@.@@@@@.@@@@@..@@..@.@.....@@.@...@@@...@.@@@@@.@@@@@@@@.@@@@...@.@.@.@@@@@.@.@.@.@@@@@@.@@@@.@@.@@.@@@@@@@@@@
@.@@.@@@@@@.@@..@.@@@@....@.@.@.@@.@.@.@@..@@.@.@.@.@.@.@.@...@@@@.@..@@..@.@@@.@.@.@.@..@@@@@.@@.@@@@@@.@@.@@@.@.@@@@.@@@@@@@@@@.@..@.@@..@
@..@.@@.@@..@@@@@@.@@@@@@@@@.@.@@@@...@@.@@.@.@.@@.@@@.@....@@@.@.@@.@@.@.@@@@@@.@..@@.@@..@.@...@..@.@@..@@...@..@.@@@@.@@@.@@@..@@@@@@@@@.
@.@@@...@@.@@@@.@@..@@.@@..@.@@.@@@@...@@@@@..@@..@@.@@@@.@@@@.@@.@..@@@@.@.@@@@@@@.@@@@.@@..@@.@@..@@@.@@.@@@@@@.@@.@@@@@@@@@@@@@.@@@@@@@@.
.@@@@.@@@@.@.@@.@@@@@.@..@.@@@.@.@.@@@..@@@@@@@.@@..@..@@.@@@@..@.@.@@@..@....@@@@@@.@..@..@@@..@@@@@.@@.@@.@@..@@@@@@@@@@@..@@.@.@.@.....@@
@@@@@@..@@@@@@@..@.@@@.@@@..@@@@.@@..@@.@@..@..@...@@@@.@@@@@.@@@@@..@.@@@.@....@@@@@@@@.@..@@.@@.@@@.@..@@..@@@@@@.@@@.@.@@.@..@@@@@@@.@.@@
@.@@..@.@@@.@@@@.@@@@@@@@...@.@@@@@@@@.@@@@@..@@@.@.@@@.@@@..@.@..@@@@@@.@@@@@.@@..@@@.@@@.@@@@.@@@@@@@@@.@.@@@@.@@@..@...@.@@@@@@...@@@@@@.
@@..@@@@@@@@@.@@@@@@@@@@@.@@.@@.@@@@.@.@@.@..@.@.@.@@.@@@@.@.@@.@...@@..@.@@.@@.@.@@@@@.@@..@@@@.@@.@@@.@@@@@..@.@@@@@.@@..@..@.@...@@@.@.@@
@@@@.@@@@.@@@.@.@@@...@@.@@@@.@@...@@@@...@@.@@.@@.@@@@@@...@.@...@..@...@@@@@.@@@@..@.@..@@@@@@@.@..@.@@@@@@@.@.@@@.@@.@.@.@@..@@.....@@@@.
.@@.@@.@.@@@@.@@.@..@.@.@@.@@@.@@.@@.@@.@.@..@.@@@.@@@@@@@@@@@@...@@@@@@@@@.@@.@..@.@.@@@.@...@.@@@@@@@@@@@..@.@@@@..@..@@...@@@.@@....@..@.
@@....@@.@@@@.@.@.@.@@@@@@@@....@@@.@@@@@@..@@.@@.@.@@@@@.@@@.@..@..@....@@@@@.@@@....@.@..@..@@@.@..@..@@..@.@.@@@@@.@@..@...@@@@@@..@@@@@@
.@@.@@.@.@.@.@..@@@.@@.@@@...@@.@@@.@@.@..@@.@@@.@@.@@@@.@@.@@@@.@@@@@@@@...@..@@@..@@@.@@.@.@..@@@@@@.@@.@@@.@..@..@.@.@@@@@..@@@@@.@@.@.@.
@@..@@.@@@.@.@@@..@@@.@@@@.@.@@@@..@@@@@@@@.@.@.@@@.@.@@@@@@@..@.@@@.@@@@...@@@.@@@@.@@@@.@@@@.@@@@.@@.@.@@@.@.@@@@@@.@@@..@@.@.@.@@...@@@.@
@@@@.@@@@.@@@@@@@@..@@@@.@@@.@...@..@..@.@@@@.@@@@@@@@@@.@@...@.@@@@@@...@@@...@@@@..@@@@@@.@@.@@.@.@@@@@.@@@.@.@@@@@@@@@.@@@@@@@@@@@....@.@
@@.@@.@.@@@@@@@.@@@.@@.@@@@@@@@@....@.@..@@@@@@.@@..@@@@...@..@@..@@@@.@.@@@@@@@@@@.@.@@@..@@@@@.@@@@....@.@@.@.......@.@@.@@@@@@@@@@@.@@.@@
@@@@.@@@...@@@.@@@..@@......@@.@.@.@@@@@@@@@@@.@..@@@@...@@@..@@.@.@...@.@.@@.@@.@@@...@.@@@@@@@@@.@@@@@@@@..@.@@.@.@.@@.@@@.@.@.@.@@@@@@@.@
@@@@.@@@...@@.@@.@@@..@...@@@@@@.@@@@@@@.@@@...@.@@@@@.@@@...@..@@@..@@@@.@@@.@.@.@.@.@@..@.@.@@..@..@@@..@@@.@.@@@.@@...@@.....@..@...@@@@@
@@@...@@@@@.@@.@@@@@...@.@@@.@@.@.@@@@@@..@@@.@.@@.@@.@@@@.....@@.@.@@.@@@@@..@@.@.@@...@@@.@.@@@@@.@@@...@@..@@@...@.@@@@@...@@@@@.@@@@@@@.
.@@@@@.@..@.@@...@@@@.@.@.....@..@@..@@@@@..@@.@@@@@@.@.@@@@@..@@.@..@@..@@@.@.@@.@@.@.@...@@@@@.@@.@.@..@@@.@@@@...@..@.@.@@@@@.@@..@..@@@@
@..@.@.@.@@@.@@.@.@@.@@.@@@@...@.@...@.@..@@@.@...@@@....@@@@.@@@@@@.@@.@@.@@.@@@@.@...@@@@@..@@..@....@.@@@@@@@@..@@@.@@@.@@@@@@@...@.@..@@
..@@@....@.@@@@@@@@..@..@@.@@@@...@...@@.@@@@.@@@.@..@@.@@@@@@@.@@....@@@@@.@@@.@@.@..@@@.@@.@..@@@@@@@...@...@.@@@@@.@.@@...@@@.@@.@.@@..@@
@@.@@@@@..@@@@...@@@@@..@..@...@@@@@.@@@@.@@@@@@@@@@...@.@@@@@@.@@@.@@@@@..@.@@.@@.@..@@@@@...@@@.@@@@@.@@.@@@@@@.@..@@@.@@@.@@@@@..@..@@.@.
@.@@@.@.@@.@@@..@@@@@@...@.@@.@.@@.@@@..@..@.@@@.@@@@@.@@@.@@@@@..@@.@...@.@..@.@@.@@.@@@@@..@..@..@@.@@@@...@@@.@.@@@.@@...@...@..@@@..@..@
@@@@@@@@@.@@@.@.@@@@.@..@.@@@.@.@..@@@..@@.@.@.@@.@@..@@@@.@@..@.@@@@@@.@@..@@@@@.@@@@.@@@@@@@@@@.@@.@...@@@@@.@@.@@@.@@.@.@@..@.@@.@@..@@@@
@.@@@@.@@..@@...@@@.@@..@.@@.@@.@@@.@.@.@.@@@@@@@@@@@@@@@.@@.@@@.@@.@@@.@@@@@@@@.@.@@@@@@.@@..@..@@@@@@.@@@@@@@@@@..@@..@@@.@.@@@@@.@@.@..@@
@@@..@.@.@@.@@@..@@..@@@.@@.@@@@@@@@@@@@.@@@@@.@@@...@@..@@..@.@.@.@@..@@@.@@@@@@@@@@..@.@..@..@@@@@.@@@....@..@@.@..@..@@.@...@@.@@@@@@@@.@
@@@.@@..@.@@.@@.@@@@@@@@...@@@@@.@@@@@@@.@.@@@.@..@@..@@..@@@@@@@@@@@@.@@...@@@@@.@....@@@@.@@....@@.@.@..@.@@.@@.@@.@@@@@..@.....@.@@@@@@@@
@...@.@@@@@@@.@@...@...@@@.@@@.@@..@@.@.@@@@@@@.@.@@.@@@.@@@@.@@.@@.@@@@@@.@@@@@@.@..@@@@@@@.@..@@@.@.@@@@.@...@@..@@@...@@@@...@@.@.@@.@@@@
.@@@.@@@@@@@@.@..@@..@.@@@@..@@@@.@.@@..@@@@@@@@.@@@@@...@..@@.....@...@.@.@...@@@@@@@@....@@@@..@.@@@@@@.@.@@@..@.@.@.@.@@@.@..@.@@@.@@..@.
.@@@@@@@@..@.@...@@...@.@.@@.@@@@@@..@...@@@.@@.@@.@..@@..@@@@.@.@....@@.@@@@.@@.@.@@.@@...@@@@@@@..@@@..@@@@@@@@..@@..@@@..@..@.@.@@.@@@@.@
@@.@@...@@@.@@.@@@@@@.@@@.@@@@@..@.@@@..@@.@..@.@@@.@@@@@@.@@@.@.@@@.@@@@.@.@..@....@...@@.@@@@@@.@@@@.@...@@@@@@@@@.@@@@.@@@@@.@@@@...@@@@@
@@@.@@..@@.@@@@@@.@.@@@@@@@@.@@@@@@@@@.@@.@@.@@.@......@.@.@.@.@@...@..@..@@.@@@.@@@.....@.@.@@....@.@@@....@@@.@.@.@.@@@@@@@@@@@.@@@.@@@@..
@.@@@@@...@..@@@@@@@..@..@@@.@..@.@@@@@@@...@@@@@@@.@@@@.@@..@.@..@@@@@..@..@@@.@@..@.@@@@@..@@.@@@.@.@@@@@@@..@..@@..@.@@.@@@@@@@.@..@@.@@.
..@@@@@@@.@@@@@@@@.@@@.@@@.@@@..@@.@@@@@@@@..@@@.@..@@@@@....@@@@.@@.@@.@.@@....@..@@.@@@@@.@@.@.@.@@@.@@.@@@..@@@@@@.@@@.@@@.@@.@@.@@.@@@@.
.@@.@@.@@@@@.@.@.@.@@@..@@@.@@@@@..@@.@....@...@@.@@@..@@.@@@.@@@.@@@@.@....@@..@@@.@@@@..@@..@.@.@@@.@@@@.@..@@@...@@...@@.@...@@@...@..@.@
@@@@@@@@@@.@@..@@@...@@@@@@@@..@.@@..@@....@@@@@@.@.@@@@@...@.@..@@@@..@@@@@..@.@@.@@@@..@@@@@@..@.@@@...@@@@..@@.@.@@..@@@@@.@@@@@.@.@@.@..
@@.@@@@@.@@@@.@.@.@@@@@@@.@@@...@@@@@@@@@@@@.@@@..@@@@@..@.@@@@@.@@.@@@@..@@..@.@.@.@......@@...@@@.@@..@@@@@@.@@@@@...@..@@@@@.@@@@@.@@..@.
@..@@@@...@.@@@@@..@.@@@.@.@..@@@@..@.@@@@.@...@@@@.@...@@.@@@@@@....@.@@@.@@@.@@.@@@.@@@@@@.@..@....@..@@@..@.@.@@..@@@@@.@@@@..@@.@.@@@.@@
.@@@@..@@@..@@.@.@..@@.@@.@@@...@..@.@@@.@.@@.@.@@@....@@@.@@@@@@@@@@@@@@.@..@..@@..@@@.@@@@@.@.@@..@@.@.@@.@@@@@@@.@.@...@..@@@@@@@@..@@@@@
@.@@@@.@.@.@@.@@@..@@@.@@@..@@@@@@@.@.@.@@@...@@@@.@.@.@..@@@..@@@.@@.@.@@..@@.@.@@@.@..@.@.@@@@@..@@@@@@@.@.@..@@.@.@.@@@.@.@..@.@@.@@@.@@.
@@@.@@@@@@.@@@@.@.@@@@.@@.@..@.@@..@.@...@@@@.@.@.@.@@.@@@....@@@@@@..@.@@@.@@@.@@@@..@@@@@@.@@@.@@@@@@....@.@...@@@@.@@@@@@.@@@...@.@@@.@@@
@.@@.@@@@@@@@.@...@@..@@.@@@@@@@.@.@@@..@@@@@.@@@@@.@@@@.@@.@@.@@....@@@@@@@..@.@@@@@@@@@@..@...@.@.@@.@@@.@@@..@@@...@..@@.@@..@@..@.@@@@@.
@.@@..@....@@@@.@..@@@@@@@@@@...@@@@..@@@.@@...@@@.@..@@@.@.@@.@@@@@@.@.@@@@@@@@@@@@@@@@.@@.@@.@@@@@@@.@@..@@@@@@@@@.@@@@@@@.@@.@.@.@@.@@@@@
@.@.@@@.@@.@@@.@@@@@..@@@.@.@.@.@@@@@.@@..@@@.@@@@@@@@@@.@@@@@.@@@@@@.@@@.@@@@@@.@@.@@@@.@..@@@@@@..@@@@@.@@.@@@@.@@..@@.@@@@.@.@.@@@@@...@@
@@@@@..@.@@@..@..@.@@@@...@@.@@@@@@..@@.@@@@.@..@@@.@.@@.@@@@.@.@@@@.....@...@@....@.....@@..@.@@@@@.@@@.@@@@..@@.@@.@@@..@.@@@@@@@.@..@.@@@
.@@@..@@@@@.@@@@.@.@.@@.@@@.@.@....@..@@.@@@..@.@@@@@@.@@@.@@..@..@.@.@.@@@.@@..@@@....@@@..@@@@@@@@.@@@@@@@..@.@...@@@.@@@@@..@@..@@.@.@@.@
@..@@@.@@..@@.@@@@@....@@@@@@@..@@@@.@.@@@..@.@@@.@@@@@@@..@@.@@@@.@..@.@@.@..@@@@..@@@.@..@@@@@.@@.@@..@@@.@@@@.@..@.@@@@.@.@@@@.@@@@@@@@.@
.@@@@@.@@@.@@@@@@@@..@@@..@@.@@@@@@@.@@@.@.@.@.@@..@@.@...@@@@.@.@@.@@@..@.@@@@...@.@@.@@@.@@@..@@@.@.@.@..@@@@.@...@@.@....@@@.@..@@@.@@.@@
@@..@@.@.@@@@@@.@.@.@.@@@@.@@..@@@..@@..@..@..@@.@@@.@@.@@@@@@@@.@.@@.@.@@@@...@@@@.@.@@@.@@@@...@.@@@@@@@@@@@@.....@.@@.@@..@@..@@@..@@@.@@
@@@.@@@@@.@.@@.@@.@@.@.@@@@..@@@..@..@.@@.@@.@@@@@...@@@.@@..@.@@@.@@.@@@@@@@@@@@..@.@@@.@.@@..@@.@.@@@.@@.@@@@@.@.@@.@@@@@@@@@@@@..@@...@@@
..@@@@@@..@...@@@@.@.@@@@..@.@@@@...@..@@@@@@@@@@.@@@..@@@.@@..@@@.@@@@@@..@@@@.@@@@@@@@.@...@.@@.@@@@@@@@@..@@@@..@.@.@@@@..@@@.@@@@@@.@@@.
@@@@...@@@@@@@@.@@@@@@@..@@@@@@...@@...@@@@@.@.@@.@@@.@@@..@.@.@@@@@@@@...@@@@@..@.@@@@@@@@@.@@.@@@@@@@@@@.@@@@...@@@@@@@.@@@..@...@@@.@...@
@.@@@@@.@@.@..@@@@@@@@@@@.@@@@.@@.@@@.@@.....@@..@@@@@.@@..@.@@@.@@@...@@@.@@@.@.@.@@.@.@.@@..@.@@@@@@..@.@@.@..@@@.@@@..@@@@...@..@@@@@@...
@@@@.@@@.@.@@@@.@@@@@@@....@@@@@....@.@..@@@.@...@@@.@@..@@@...@..@@@@.@.@.@...@.@@@@@@@@.@@@.@@@.@.@@@.@@@.@.@.@@@.@.@@@@@@@..@@@@@...@.@.@
@.@@@.@.@.@@@@@@.@..@@.@.@@.@.@.@.@@@@..@@..@...@@@@@..@.....@@@@..@@.@@@.@.@@@@@@@@@..@.@..@@@.@@.@@@...@.@@@@..@...@@@.@..@@@@..@@@@.@@.@@
@@@@.@.@..@.@@.@@..@.@.@@@..@.@@@.@@@@.@.@@@@@@.@.@@@@@@@@@.@@@.@.@@@@..@@@.@@.@@.@@@@@....@..@@.@@@@.@..@@@@@.@@@@..@@@@@@...@@@@.....@@@@.
.@.@.@@@@@@.@@..@@@@@@@@@....@@@@.@@.@@.@@@.@@@..@.....@@@@.....@@..@@..@@@@@@@@@@.@@@@.@.@@@@@..@@.@..@@.@.@@@@..@.@@@.@.@@.@.@@.@@@.@...@.
.@..@@@@.@@@.@@@.....@@@@@@.@@@@..@@.@@@.@@..@.@@....@.@..@@@.@.@@.@@@...@@@.@@.@@@@@...@.@@@.@@@.@.@@@.@@.@@@@@@@..@@.....@@@.@@.@@@@.@@@.@
@@@@.@.@.@..@@@..@.@@@@@@@.@@@.@@@.@@@.@@.@.@@.@..@@..@@.@@@.@@@.@@@.@@@..@@.@..@..@@@..@@@@..@....@....@..@@..@@@.@.@.@@.@@@@@@@.@@.@@..@@@
@@.@@@@@@.@@..@@...@@@@.@@@.@@.@.@.@@.@@@.@.@@@@@@@.@@@@..@@.@.@@@@@.@@@@.@.@...@@.@.@@...@@@@...@.@@@...@...@@.@..@.@@@..@..@.@@@@@..@..@@.
@.@...@@.@@@..@@@@@@@@.@..@@@@@@@@@@@...@.@.@@@@@..@@@@@..@.@@.@@@..@...@@..@@@@..@.@@@@@.@@..@@@.@@@@@@@@.@.@@@@..@@.@.@@@@...@...@@@@..@@@
@..@@@@@...@.@...@.@@@@@@@...@@.@.@.@@..@@@@@@.@@@@@@@@...@@@..@.@..@.@@@..@.@.@...@@@.@@@@@@..@@.@@@@@.@.@@.@@@@@@@@..@@..@@@@@@@@@@@.@@@..
@..@@@@@.@@@@@@@@..@@@@@.@@@.@@.@@@@@@.@@@.@@@@.@@@.@.@@...@...@@@.@@@...@@@....@..@@@@@@..@@@@@@.@.@@@.@@.@.@@@@@@@@@.@@@@..@@@@...@.@@..@@
@@.@@@@@@@.@.@@@.@@@@.@.@...@@.@.@....@..@@@@.@@@.@@@.@@.@@@@@...@.@..@@@.@..@@@@..@.@@..@@.@@.@...@@@@..@..@@.@.@@@@.@.@@.@@@...@.@..@@@@.@
@@.@@@@.@@..@@.@@.@..@@@@@@.@..@@.@.@@@@@@.@.@.@.@@@@@.@@@..@..@.@@@@@....@@...@@.@.@@@@@@..@@.@..@@@.@@@@@@@@.@@.@@..@..@..@@@@@..@@@.@@.@.
@@@@@@@.@.@@@...@@@.@@@@..@@.@@@.@@@@@..@.@.@@..@@..@...@.@@@@.@@@@@@@@@..@.@.@.@@@@@@..@@@..@.@..@..@@.@@.@..@@@@@@@@@@....@@@@....@.@.@@@.
@@.@@@.@@@@.@..@@@@@.@@.@.@.@.@@..@.@.@.@@@@@.@@@@.@@..@@...@@.@.@@@..@.@@@..@@@@@.@@@@.@@@...@.@@@@@@.@@.@.@..@@@.@@..@.@@.@@@@@.@@.@..@..@
.@.@@@@@.@@@@@......@...@@@..@.@@@@@@@@...@@.@..@..@@.@@.@.@@@.@.@@..@@@.@..@@@.@@.@@..@@@@@....@@.@.@@@@@...@@@.@@@@..@..@@@@@.@..@@@@@@.@.
.@@.@@@@@..@@@.@@@@....@@@..@@.@....@@@.@.@@@...@@@@.@..@@@@..@.....@.@@@@@@.@@@.@@..@.....@@@.@.@@@@..@.@@@@@@@.@@@.@@.@@.@...@@@@@@..@...@
@@@@@@.@@@@..@..@.@@@@@@@@@@.@@@@@.@...@@.@@.@@.@.@@.@@...@@@..@@@..@@....@@@.@.@.@@@@@..@.@@.@@.@@@@@.@@@.@.@@@@@@@@@@.@@@..@@@@@@...@.@.@@
@@.@@.@@@..@@.@@@..@@@@@@.@.@@@@.@@.@@....@@.@.@.@@@.@@@@...@..@@.@@@@..@@.@@......@.@.@@..@@@@@.@@@.@.@@.@@.@@@.@...@@@@.@.@@@.@@@@@@@@..@@
@...@.@.@@.@.@@@@..@.@..@@@@@@@@@..@@@@@@@.@@@@@...@@@.@@@@@.@@.@.@.@@@@.@@@.@@@.@@@@@...@.@.@@.@@.@@@@...@@.@.@@@@.@@.@..@@@..@@@@@@..@.@.@
@.@@@@@@@..@@@@.@...@.@.@@@@...@.@@.@@.@..@@@@.@@@.@@@..@.@@@.@.@@..@..@.@....@.@@@.@@@@..@.@@@@@@@...@@@@@@@@@@@@@.@@..@@@...@.@...@@@..@@@
@@@.@@@.@.@..@.@@..@.@@@@@@@@@@...@.@.@@@@@@@.@.@@@.@@.@.@@@@..@@....@@@@@...@.@.@@@@@.@@.@@@@.@.@@.@.@@@...@@@.@.@.@@...@@@......@@@@@@@.@.
.@@@@.@@@@@@.@@@@@.@@.@@@@@@@@.@@@@@...@@@@.@.@@@@......@.@@@@@..@@@@@.@@.@@@.@@@@@.@@..@@@@@@@.@..@@.@...@@@@.@.@.@@..@@.@@@@..@...@@.@@@@.
@@@@@@@@.@@...@@@@@@.@.@...@.@@@.@@@@..@.@@....@@@@@@@@.@.@@@.@@@.@.@@@@.@@.@..@@@.@@@@..@@.@@@..@..@...@@.@@@@@.@@@.....@@@@@.@@.@.@..@@@@@
@@@.@..@@.@@@.@..@.@@.@@.@.@.@@@@@..@.@@.@@@.@@@@@...@@@@@@.@.@.@@@..@@@@.@@..@.@.@.@@..@@.@@@@@.@..@.@@@@@...@@@@@@@@@.@@@..@.@@.@.@@.@@@@.
@@.@@@@@..@@@..@.@.@@......@@@.@@@@@..@@@..@@@@.@@@.@@@.@@@@.@.@@..@@.@.@@..@...@.@@.@@@..@.@.@.@@@@..@@@@@@.@@.@..@@...@@...@.@@@.@@@.@@.@@
@.@@@...@.@@@@@@.@@@@@@.@..@@@@@.@.@@@@@..@@.@@@.@@.@@@@@@@@@@.@..@@@@@@@@@..@@@.@.@@.@@@@@@@.@..@@@@@..@...@@.@@.@@.@@@.@@@@@@@@@....@@@.@@
@@@@@@@.@@@@.@..@@@.@.@@@@@.@@@@@@.@...@@@@@.@@..@@@@@@@@@.@@@@.@@@.@@.@@@@.@@@..@..@.@.@@@@@@.@....@@..@@.@.@@@..@..@@@@@..@@@@..@.@@@.@@@@
@..@@.@@.@@...@.@.@@@@@@@@@...@...@.@@.@.@@.@@@.@@@.@@..@.@@@....@.@.@@@.@@@@@@@@@@@@@@@@.@@@@@@@.@@@@..@.@@@@@.@@@..@.@@@@@@.@@@@.@@@@.@@.@
@@@.@@@@..@.@@@.@.@@....@@.@@..@@..@@@@@@@@@.@..@@@@@.@@@.@@...@.@@@@@@.@@@@.@.@@@.@@@@..@@@@.@....@@.@@@@..@.@.@.@.@@.@.@.@@@.@..@..@@@@@@@
@@@.@@@.@@@.@@@@..@.@@@@@@@@@@@.@..@..@@@@@.@@@@@..@@@@.@..@..@.@.@..@@.@@@@@@@@@@@@...@@..@@.@...@.@.@.@@.@.@@.@@@...@....@.@.@@@@...@.....
@@.@@@.@@@@@@@.@@@@..@...@@@@..@@@@@@@.@@@..@.@@@@@@.@@@...@@@.@@@@...@@@.@@@....@@.@@.@.@.@@@@@.@@@@@@..@...@@@@.@.@..@..@@@@@@@..@@@.@@@@.
@.@.@.@.@@@.@@.@@@@@.@@..@.@@..@.@..@.@@@.@@.@..@.@@@@@.@..@.@@@@@.@@.@@@.@@@@.@.@@@@@..@.@...@.@..@@.@@@@@@..@.@@@.@@...@.@@@.@@.@.@@..@.@@
@.@@..@.@@@@@@@@@.@@..@..@@...@@@..@.@..@@@@@.@@@@@@@@@@.@.@@@@.@@@@@@@@@@@@.@@@@@@..@@.@.@@@.@@@.@.@..@@@@@.@.@@@@@...@@.@@@.@@.@@@..@@..@@
@@@@...@@@@@..@@.@@.@@@.@..@@@.@@.@.@.@..@@.@@@@...@...@..@.@@@@.@...@@.@.@.@@..@......@@@.@@..@....@.@@@@.@@@.@@.@@@....@@@.@@.@.@..@@.@.@.
@.@@..@@@@@@@.@.@@...@.@.@@@@.@@@.@.@..@@@@@..@..@.@..@..@.@..@....@@.@..@@@@@@.@.@@@@@@@@@@@@@..@..@@.@@@@@.@@@@@.@.@@@@@@..@@.@...@@@@.@@.
@.@.@..@@@@@@@@@@@@.@@@@..@@@.@@@@.@@@..@@.@.@@@@..@@...@@.@@@@.@.@@@@@.@@.@@@.@@.@@@@.@@@@.@@@@@@.@@@...@@@@@.@@@..@.@@..@@.@@@@@@@...@@@.@
@@.@..@@@@.@@@@...@..@@..@@.@@@@.@@@...@@@@@@@@@@@.@.....@@.@@@@@..@@@@@..@@@.....@@..@@@@.@@.@@..@@..@..@.@@@@@....@@@@@.@..@.@.@@.@.@@@@@@
@.@@.@@.@@@.@@..@@@@@@@@@@@@@.@.@.@.@..@@@@@@@@..@...@@@@.@.@.@@.@@@@..@..@@@@@...@@.@@@@....@@@@@@..@.@@@@@@@..@@@.@..@@..@..@@.@@@@@.@@@@.
..@@@.@.@@...@@@@.@@@..@@.@..@@.@@@.@@.@..@.@@..@.@.@@@@@.@@@.@@@.@@@@@.@@..@.@@@@.@@@.@@@@@..@@.@@@...@@.@@@@@...@@@@@@@@@@@@..@@@@@@.@@@@@
.@.@....@@@..@@.@.@@@@@@@@@@@@@@@@.@@@@@.@@@@.@@@@@@@@@@@@@.@.......@@@@.@@@@@..@@@.@.@@@.@@@@@@@@@.@@@.@@....@....@.@@@@@@@.@@@.@@@@@@@@..@
.@..@@@@.@@.@@.@......@..@.@.@@@..@@@@.@@@@@@@...@@@.@@@@@.@@.@@.@@@@@@.@.@@...@@@...@.@..@@.@@..@@@@@...@@.@@@.@@..@@@@@.@@@@@.@@.@...@@.@.
@@@@@.@@@@@@.@@@@@@...@@@@@@@.@@.@@.@@@@.@...@@@@@..@@.@.@@.....@....@.@.@.@.@..@@.@@.@@@@...@@@@.@.@@@@@@...@@@.@@@@@@@.@..@..@@@@@@.@..@.@
@@.@@.@@@.@@@@.@@@@.@@@.@.@@@...@@@@@@.@.@.@@@@@.@.@@@@.@@..@.@..@@@@.@@..@.@@@.@@@.@.@@@..@.@.@@.@.@@@@@@..@..@@..@@@..@.@@@@@..@@.@@@@@..@
.@@.@@@.@@.@.@@@@.@@.@...@@@@.@..@@@..@.@..@..@@.@...@.@@.@@..@..@@.@..@@@@@.@@@@.@@@.@.@@@@...@.@@@....@..@@@@.@@@@@@.@.@..@@..@.@@@@...@@@
..@@.@@.@.@@...@...@..@.@.@@.@..@..@@@@.@...@.@@@@@@@.@@@@.@...@.@..@@@@@.@.@@@@.@.@@.@.@@..@.@@@...@.@@@@@.@..@@@@.@@@@@@@..@@@.@@.@.@..@@.
@@@@.@@@...@.@...@@@@@@@@@@.@@..@@.@.@.@@@@@@..@.@.@.@@.@.@@@@..@@.@@@.@.@@.....@@.@@@..@@.@.@.@.@.@.@@@..@@@@@@@.@@@@@.@@.@@@@..@@@@@@@@.@@
@...@@@...@@.@@@@..@..@.@@@@@@@.@.@@@@.@@@@@@..@@...@@@@@@@@.@@@@@.@@@@.@@.@@..@@@@.@@.@..@@...@@@.@.@@.@..@@@@@@@@@.@..@@.@@.@@..@@@.@.@@..
@..@@@@@.@..@@@@@@.@@.@..@@@@@.....@..@..@@.@@.@.@@.@@.@@@@@@@....@@..@@.@@..@@@@@@@@@@@@@.@.@@@@@@@.@@@.@@.@@@@@@@@@@@@@@@@@.@@@@@@@.@.@@@.
.@@@@@.@@.@@@@...@.@@.@..@@@@..@@@..@.@@@.@@@@@@@.@...@..@@@@..@...@@..@@.@..@@@@.@.@....@.@@@@@.@@@@@@@@@..@@.@@@@..@@.@..@@@.@..@@@@.@@.@@
.@@@...@..@@@@@@@@@@...@...@@@@..@@@.@@@@.@@.....@@@@.@...@...@@...@@@@@...@.@@.@.@.@@.@.@.@@.@@.@@@@@.@@@@@@..@@@@@.@.@@@...@.@.@@.@@@@.@@@
@.@..@@@.@.@..@.@..@@@@@@@@..@...@.@.@@@...@@@.@@@@..@@@.@@@@@@.@.@@@..@@@@@..@......@@.@.@.@@@@@@..@@@@.@@@..@@@.@@.@.@@@@.@@@@...@..@@@@@@
@@@@@@@.@.@.@@@@@@.@.@@..@@@@.@@@@@.@@@@@.@@.@@..@@@@@@.@.@..@@@.@.@.@@@@.@@@..@@@@.@@@@.@@..@.@@@@@..@@@@@@.@...@@@...@.....@@@..@@.@@.@.@.
@@...@.@..@@@.@@.@@@@@.@@@@@@@@@@.@@.@@@.@@.@@..@@@@...@.@.@@@.@..@.@.@@@@@...@@.@@.@.@.@@@@@@.@@@@@@@.....@@@@@.@@.@@.@@.@@@..@@@@.@@@.@@.@
.@@..@@.@@@@@.@@@..@@.@@..@@@@..@@@@@@@..@.@.@@@@..@.@@@.@.@.@..@..@@.@.@@.@.@@@@@..@@@..@@.@.@@.@@.@@..@@.@@@@@@..@@.@.@.@@@.@.@@@@@@.@..@@
@.@@.@@.@@.@@..@.@@.@@.@.@@@.@@@.@.@...@..@.@.@.@..@....@@@.@..@@@@@@@.@@..@@@@@.@..@@@.@..@.@@@@@@@@@.@@@@@@@@@@..@@@@@.@....@@@.@.@.@.@@@@
@@.@......@@@.@@.@..@...@@@@@@@@@@@@@...@@.@@.@@@@@@.@.@@@@@.@.@@@@.@.@@.@@@@.@@@.@..@@..@....@.@.@@@@@.@..@@@@.@@@@.@..@@@@@..@..@.@..@.@.@
@@@@@@@..@.@@@@@@@.@@@@@.@@@..@.@.@@.@.@@@..@@@@@.@@@....@@@@..@.@@...@@.@@@.@@@@.@@.@@@....@@@.@@@@@....@@@@@@...@@@@@@@@@@@..@@.@@@.@@@@@@
.@@@...@@.@@..@@@.@@..@@@..@..@.@@@@..@.@..@.@@@.@@@.@...@@@@@@@@.@@@.@.@.@..@.@@...@.@@@@@@@@@.@@@@@..@.@.@@.@@..@@.@....@@.@@@@@@..@@@@@.@\
""".split('\n')
	
#-------------------------------------------------------------
def go(lines, part):

	g = []
	for line in lines:
		g.append([c for c in line.strip()])	# convert string to array so we can modify it

	def adjacentCount(r, c):
		nonlocal g
		result = 0
		checks = [(-1,-1), (-1,0), (-1,1), (0,-1), (0,1), (1,-1), (1,0), (1,1)]
		for check in checks:
			newR = r + check[0]
			newC = c + check[1]
			if newR < 0 or newR >= len(g) or newC < 0 or newC >= len(g[0]):
				continue
			if g[newR][newC] == '@':
				result += 1
		return result

	result = 0
	removedAny = True		# just to get into the loop the first time
	while removedAny:
		removedAny = False
		for row in range(len(g)):
			for col in range(len(g[0])):
				if g[row][col] == '@':
					if adjacentCount(row, col) < 4:
						result += 1
						if part == 2:
							g[row][col] = '.'
							removedAny = True

	print(result)
	return result

#-------------------------------------------------------------
assert(go(testData, 1) == 13)
assert(go(data, 1) == 1578)
assert(go(testData, 2) == 43)
assert(go(data, 2) == 10132)
